p8105_hw5_jc5924
================

## Problem 2

### Describe the data

``` r
homicides=read_csv("./data/homicide-data.csv")
```

    ## Rows: 52179 Columns: 12
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (9): uid, victim_last, victim_first, victim_race, victim_age, victim_sex...
    ## dbl (3): reported_date, lat, lon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

-   In this homicides datafrmame, we have 52179 of observations and 12
    of variable that are uid, reported_date, victim_last, victim_first,
    victim_race, victim_age, victim_sex, city, state, lat, lon,
    disposition.

### Create a city_state variable and summarize the unsolved cases

``` r
homicides_summary=homicides %>% 
  janitor::clean_names() %>% 
  mutate(city_state=str_c(city,state,sep = ", "),
         status=case_when(disposition=="Closed by arrest"~"solved",
                          disposition=="Closed without arrest"~"unsolved",
                          disposition=="Open/No arrest"~"unsolved")) %>% 
  group_by(city_state) %>% 
  summarize(homicides_number=n(),
            unsolved=sum(status=="unsolved"))
homicides_summary
```

    ## # A tibble: 51 × 3
    ##    city_state      homicides_number unsolved
    ##    <chr>                      <int>    <int>
    ##  1 Albuquerque, NM              378      146
    ##  2 Atlanta, GA                  973      373
    ##  3 Baltimore, MD               2827     1825
    ##  4 Baton Rouge, LA              424      196
    ##  5 Birmingham, AL               800      347
    ##  6 Boston, MA                   614      310
    ##  7 Buffalo, NY                  521      319
    ##  8 Charlotte, NC                687      206
    ##  9 Chicago, IL                 5535     4073
    ## 10 Cincinnati, OH               694      309
    ## # … with 41 more rows

### Proportion of unsolved homicides

``` r
baltimore=prop.test(homicides_summary %>% filter(city_state=="Baltimore, MD") %>% 
                      pull(unsolved),
                    homicides_summary %>% filter(city_state=="Baltimore, MD") %>% 
                      pull(homicides_number)) %>% 
  broom::tidy() %>% 
  saveRDS(., "./data/baltimore_prop_test.rds")
baltimore
```

    ## NULL
